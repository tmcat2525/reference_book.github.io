
# AWS認定 ソリューションアーキテクト アソシエイト 合格対策参考書（SAA-C03対応） - Part 1

## はじめに

本書は、AWS認定ソリューションアーキテクト アソシエイト（SAA-C03）試験の合格を目指すIT初心者から中級者の方向けの参考書です。クラウドの基本的な概念から解説し、AWSの主要なサービスについて、試験で問われるポイントを中心に学習を進めます。

**本書の特徴:**

* **分野別の章立て:** 試験範囲を主要な分野に分け、体系的に学習できます。
* **基礎からのサービス解説:** 各AWSサービスの基本的な機能やユースケースを分かりやすく説明します。
* **試験頻出ポイントの強調:** 出題傾向、サービスの組み合わせ、重要キーワードを明確にし、効率的な学習をサポートします。
* **理解度チェックテスト:** 各章末のテストで学習内容の定着を確認できます。（選択式2問＋短記述式1問に調整）
* **学習を助けるTips:** 図解（テキスト表現）、補足情報、頻出ワードリストで学習効果を高めます。

**本書の使い方:**

1.  **各章の概要とサービス解説を読む:** まず、各分野の全体像と主要サービスの基本を理解しましょう。
2.  **問題と解説で学習を深める:** 提供された問題を解き、解説を読んで理解を深めます。特に、**出題傾向**や**よく出るサービスの組み合わせ**、**重要キーワード**に注目してください。
3.  **Tipsと補足で知識を補強する:** 学習のヒントや関連情報を参考に、知識を広げましょう。
4.  **理解度チェックテストで実力試し:** 章末のテストで理解度を確認し、苦手分野を把握します。
5.  **頻出ワードリストで復習:** 各章の重要キーワードを繰り返し確認し、記憶に定着させましょう。

クラウド技術は日々進化しています。本書を足がかりに、AWS公式ドキュメントなども参照しながら、継続的に学習を進めることをお勧めします。

*(目次は全体構成を示すため記載しますが、Part 1では第1章、第2章のみ扱います)*
### 目次 (予定)

* 第1章: コンピューティングサービス (EC2, Auto Scaling)
* 第2章: ストレージサービス (S3, EBS, EFS, Glacier, Storage Gateway)
* 第3章: データベースサービス (RDS, DynamoDB, Redshift, ElastiCache, Aurora)
* 第4章: ネットワークとコンテンツ配信 (VPC, Route 53, CloudFront, ELB, Direct Connect, VPN, Global Accelerator)
* 第5章: セキュリティ、ID、コンプライアンス (IAM, KMS, Shield, WAF, Secrets Manager, Security Hub, Config)
* 第6章: サーバーレスコンピューティング (Lambda, API Gateway, SQS, SNS, Step Functions, EventBridge)
* 第7章: コンテナサービス (ECS, EKS, Fargate, ECR)
* 第8章: 移行とハイブリッドクラウド (Migration Hub, DataSync, Server Migration Service)
* 第9章: 運用と自動化 (CloudWatch, CloudFormation, Systems Manager, Elastic Beanstalk, Service Catalog)
* 第10章: コスト最適化
* 第11章: 機械学習と分析 (Rekognition, Transcribe, Translate, Comprehend, Forecast, SageMaker, Athena, EMR, Glue, Lake Formation, Macie, OpenSearch)
* 巻末付録: 頻出AWS用語集

---

## 第1章: コンピューティングサービス (EC2, Auto Scaling)

### 1.1 分野概要

AWSのコンピューティングサービスは、クラウド上でアプリケーションを実行するための仮想的な計算能力を提供します。中心となるのは**Amazon EC2**で、これはサイズや性能を選べる仮想サーバー（インスタンス）です。そして、負荷に応じてインスタンス数を自動で調整し、システムの安定稼働を支えるのが**Auto Scaling**です。この章では、これらの基本的なサービスの使い方や設定、考え方を学びます。

### 1.2 主要AWSサービス解説

* **Amazon EC2 (Elastic Compute Cloud):**
    * クラウド上に仮想サーバー（**インスタンス**）を作成・管理できるサービス。
    * **インスタンスタイプ**（CPU、メモリ、ストレージ、ネットワーク性能の組み合わせ）をワークロードに合わせて選択可能。
    * OSイメージである**AMI (Amazon Machine Image)** を選択してインスタンスを起動。
    * 永続的なブロックストレージとして**EBS**ボリュームをアタッチできる。
    * ネットワークアクセス制御は**セキュリティグループ**（ステートフルファイアウォール）で行う。
    * インスタンスへの接続には**キーペア**（公開鍵・秘密鍵）を使用（Linuxの場合）。
    * IPアドレスには、起動・停止で変更される**パブリックIPアドレス**と、固定できる**Elastic IPアドレス**がある。
    * **重要キーワード:** インスタンス、インスタンスタイプ、AMI、EBS、セキュリティグループ、キーペア、パブリックIP、Elastic IP、アンマネージド型

* **Auto Scaling:**
    * アプリケーションの負荷やスケジュールに応じて、EC2インスタンス数を自動的に増減させるサービス。
    * **スケーラビリティ**（拡張性）と**可用性**（継続性）を向上させる。
    * **Auto Scalingグループ**を作成し、最小・最大・希望インスタンス数を設定。
    * インスタンスの起動設定は**起動テンプレート**（推奨）または**起動設定**で行う。
    * **スケーリングポリシー**（CPU使用率、ネットワークトラフィック、スケジュールなど）に基づいてインスタンス数を調整。
        * **ターゲット追跡:** 特定のメトリクス（例：CPU使用率30%）を維持するように調整。
        * **ステップスケーリング:** メトリクスに応じて段階的にインスタンス数を増減。
        * **簡易スケーリング:** 閾値超過で指定数を増減（現在はステップ/ターゲット追跡が推奨）。
        * **スケジュールされたスケーリング:** 特定の日時にインスタンス数を変更。
    * **クールダウン期間:** スケーリングアクション後、次のアクションを開始するまでの待機時間（デフォルト300秒）。システムの安定化が目的。
    * **ヘルスチェック:** EC2インスタンスまたはELBのヘルスチェック結果に基づき、異常なインスタンスを自動的に終了・置換。
    * **重要キーワード:** Auto Scalingグループ、起動テンプレート、スケーリングポリシー（ターゲット追跡、ステップ、スケジュール）、クールダウン期間、ヘルスチェックタイプ(EC2/ELB)

### 1.3 問題演習とポイント解説

**(問題3より)** [cite: 1, 200]
* **[ポイント]** Auto Scalingは、インスタンス起動に失敗し続けても無限には試行しません。**24時間**以上連続して起動に失敗すると、Auto Scalingグループはその起動プロセスを自動的に**停止**します。これは、設定ミスなどによる無限ループや意図しない課金を防ぐためのセーフティ機能です [cite: 1]。
* **出題傾向:** Auto Scalingの基本的な動作、特に異常時の挙動や制限時間。
* **重要キーワード:** Auto Scalingプロセス停止、24時間ルール

**(問題6より)** [cite: 4, 203]
* **[ポイント]** EC2インスタンスに割り当てられる**パブリックIPアドレス**は、インスタンスを停止・起動すると変更される**動的なIPアドレス**です [cite: 4]。ドメイン名をこのIPアドレスに関連付けている場合、IPアドレスが変わるとアクセスできなくなります [cite: 4]。常に同じIPアドレスでアクセスさせたい場合は、**Elastic IPアドレス**（静的なパブリックIPアドレス）を取得し、インスタンスに関連付ける必要があります [cite: 4]。
* **出題傾向:** パブリックIPとElastic IPの違い、使い分け。固定IPが必要なシナリオ（Webサーバー、外部システム連携など）での選択。
* **重要キーワード:** パブリックIPアドレス、Elastic IPアドレス

**(問題14より)** [cite: 12, 211]
* **[ポイント]** 特定の時間帯に負荷が集中することが分かっている場合、**スケジュールされたスケーリングポリシー**が有効です [cite: 12]。ピーク時間前にあらかじめインスタンス数を増やしておくことで、負荷上昇にスムーズに対応できます [cite: 12]。
* **出題傾向:** 各種スケーリングポリシーの特徴とユースケースの理解。シナリオに応じた最適なポリシー選択。
* **よく出るサービスの組み合わせ:** EC2 + Auto Scaling + ELB
* **重要キーワード:** スケジュールされたスケーリングポリシー

**(問題20より)** [cite: 8, 207]
* **[ポイント]** ワークロードの特性に合わせたEC2購入オプションの選択はコスト最適化の基本です。
    * **オンデマンド:** 短期利用、中断できないワークロード。
    * **リザーブド:** 長期（1年/3年）の安定した利用。大幅な割引。
    * **スポット:** 大幅割引だが中断可能性あり。中断が許容できる、時間に柔軟なワークロード（バッチ処理、データ分析など）に最適 [cite: 8]。
* **出題傾向:** 各購入オプションの特徴、メリット・デメリット、適用シナリオ。コスト最適化の観点からの選択。
* **重要キーワード:** オンデマンドインスタンス、リザーブドインスタンス、スポットインスタンス、ステートレス

**(問題26より)** [cite: 36, 225]
* **[ポイント]** **耐障害性**を高めるには、単一障害点をなくす設計が必要です。AWSでは**アベイラビリティゾーン(AZ)** を利用した**マルチAZ構成**が基本です [cite: 36]。1つのAZが利用不能になっても、他のAZでサービスを継続できるように、各AZに必要な処理能力を分散配置します [cite: 36]。Auto Scalingによる復旧には時間がかかるため、即時継続性が必要な場合は、障害発生直後でも最低限必要な処理能力を維持できる構成にします [cite: 36]。
* **出題傾向:** 高可用性・耐障害性の設計原則。マルチAZ構成の考え方。
* **重要キーワード:** マルチAZ、可用性、耐障害性、単一障害点

**(問題28より)** [cite: 10, 217]
* **[ポイント]** AMIの共有にはLaunchPermissionの変更が必要です [cite: 10]。さらに、KMSで暗号化されている場合は、共有先アカウントがそのKMSキーを使えるようにキーポリシーを変更する必要があります [cite: 10]。AMIを公開するのはセキュリティ上推奨されません [cite: 10]。
* **出題傾向:** AMIの共有方法、特に暗号化されたAMIの共有手順は問われる可能性があります。KMSとの連携がポイントです。
* **よく出るサービスの組み合わせ:** EC2 (AMI) + KMS
* **重要キーワード:** AMI共有、LaunchPermission、KMSキーポリシー、カスタマー管理キー(CMK)

**(問題31より)** [cite: 11, 220]
* **[ポイント]** IAMポリシーでは、**明示的なDeny（拒否）**が**Allow（許可）**よりも優先されます [cite: 11]。このポリシーでは、`ec2:*`（全てのEC2アクション）をAllowしつつ、`ec2:*ReservedInstances*`と`ec2:TerminateInstances`をDenyしています。したがって、リザーブドインスタンス関連操作とインスタンス終了操作は実行できません [cite: 11]。
* **出題傾向:** IAMポリシーの基本的な評価ルール（明示的Deny > 明示的Allow > 暗黙的Deny）は非常に重要です。ポリシーを読んで権限を判断する問題が出題されます。
* **重要キーワード:** IAMポリシー、Allow, Deny, Resource, Action, Condition

**(問題41より)** [cite: 17, 230]
* **[ポイント]** セキュリティグループは、特定のIPアドレス範囲だけでなく、**他のセキュリティグループID**を送信元/送信先として指定できます [cite: 17]。これは、Auto Scaling環境のようにIPアドレスが動的に変わるインスタンス群からのアクセスを許可する場合に非常に便利です [cite: 17]。
* **出題傾向:** セキュリティグループの詳細設定。IPアドレス指定とセキュリティグループID指定の使い分け。
* **重要キーワード:** セキュリティグループID指定、ステートフル

**(問題47より)** [cite: 51, 236]
* **[ポイント]** AWSでスケーラブルで可用性の高いWebアプリケーションを構築する際の基本パターンは、**複数のAZ**に**EC2インスタンス**を配置し、**ALB**で負荷分散を行い、**Auto Scaling**で自動的にインスタンス数を調整する構成です [cite: 51]。
* **出題傾向:** 基本的な高可用性アーキテクチャパターンの理解。
* **重要キーワード:** マルチAZ、ALB、Auto Scalingグループ

**(問題49より)** [cite: 21, 238]
* **[ポイント]** Web層（ユーザーからのリクエストを受け付ける層）のスケーラビリティと可用性を確保するには、ELBによる負荷分散とAuto Scalingによる自動増減が標準的な構成です [cite: 21]。
* **出題傾向:** 典型的なWebアプリケーションアーキテクチャにおける各層の役割と、それに適したAWSサービスの選択が問われます。
* **よく出るサービスの組み合わせ:** EC2 + ELB + Auto Scaling
* **重要キーワード:** 2層/3層アーキテクチャ、スケーラビリティ、可用性、ELB、Auto Scaling

**(問題54より)** [cite: 17, 243]
* **[ポイント]** セキュリティグループのルール変更（追加、修正、削除）は、そのセキュリティグループが関連付けられている全てのインスタンスに対して**即座に反映**されます [cite: 17]。
* **出題傾向:** セキュリティグループの基本的な挙動。
* **重要キーワード:** セキュリティグループ変更反映

**(問題59より)** [cite: 120, 317]
* **[ポイント]** ENI（Elastic Network Interface）は、インスタンスからデタッチして別のインスタンスにアタッチできます。停止中のインスタンスにアタッチするのがウォームアタッチです [cite: 120]。ホットアタッチ（実行中）、コールドアタッチ（起動時）もあります [cite: 120]。
* **出題傾向:** ENIの基本的な機能とアタッチ方法（ホット、ウォーム、コールド）の違いを理解しているかが問われる可能性があります。特にフェイルオーバー構成での利用が考えられます。
* **重要キーワード:** ENI (Elastic Network Interface), ホットアタッチ, ウォームアタッチ, コールドアタッチ

**(問題60より)** [cite: 56, 249]
* **[ポイント]** Auto Scaling環境でIPアドレスによるアクセス制御を行う場合は注意が必要です。新しいインスタンスには固定IP（Elastic IP）を付与するか、セキュリティグループIDで制御する必要があります。また、どのインスタンスを終了させるかのターミネーションポリシーも影響します [cite: 56]。
* **出題傾向:** Auto Scaling環境におけるIPアドレス管理やセキュリティグループ設定の注意点を問う問題です。動的な環境変化への対応がポイントです。
* **よく出るサービスの組み合わせ:** EC2 + Auto Scaling + セキュリティグループ (+ RDSなど)
* **重要キーワード:** Auto Scaling、IPアドレス、Elastic IP、セキュリティグループ、ターミネーションポリシー

**(問題61より)** [cite: 87, 250]
* **[ポイント]** インターネットから隔離するにはプライベートサブネットにリソースを配置します。プライベートサブネット内のEC2がインターネットにアクセス（例：ソフトウェア更新）するには**NATゲートウェイ**が必要です [cite: 87]。外部からのアクセスはパブリックサブネットに配置したALB経由で行います [cite: 87]。高可用性のためにマルチAZ構成とします [cite: 87]。
* **出題傾向:** VPCの基本的な構成（パブリック/プライベートサブネット、インターネットゲートウェイ、NATゲートウェイ）、および高可用性設計（マルチAZ、ELB）を組み合わせた問題は頻出です。
* **よく出るサービスの組み合わせ:** VPC + EC2 + RDS + ALB + Auto Scaling + NAT Gateway + マルチAZ
* **重要キーワード:** プライベートサブネット、パブリックサブネット、NATゲートウェイ、インターネットゲートウェイ、ALB、マルチAZ

**(問題69より)** [cite: 80, 258]
* **[ポイント]** インスタンス間の低レイテンシー通信が必要な場合、**クラスタープレイスメントグループ**を利用します [cite: 80]。これにより、インスタンスが物理的に近い場所に配置されます。M5インスタンスは汎用インスタンスであり、多くのワークロードに適しています。T系インスタンスはバースト可能ですが、クラスタープレイスメントグループには対応していません [cite: 80]。
* **出題傾向:** プレイスメントグループ（クラスター、パーティション、スプレッド）の種類と特徴、ユースケースを理解しているかが問われます。特にクラスタープレイスメントグループはHPCなどで重要です。
* **重要キーワード:** クラスタープレイスメントグループ、低レイテンシー、M5インスタンス

**(問題1 (コスト最適化) より)** [cite: 82, 264]
* **[ポイント]** 特定の曜日や時間帯に定期的にEC2インスタンスを利用する場合、以前は**スケジュールドリザーブドインスタンス**がありましたが、現在は廃止されています [cite: 82]。代替として、オンデマンドインスタンスの**キャパシティー予約**を利用することで、指定した期間・AZでインスタンスの起動を保証できます（料金はオンデマンド） [cite: 82]。
* **出題傾向:** EC2購入オプションの選択問題で、利用パターン（常時稼働、定期的、一時的、中断可能など）に合わせた最適な選択肢を問われます。スケジュールドリザーブドインスタンスが廃止された点に注意が必要です。
* **重要キーワード:** キャパシティー予約、オンデマンドインスタンス、スケジュールドリザーブドインスタンス（廃止）

**(問題11 (EC2) より)** [cite: 62, 63, 270]
* **[ポイント]** IAMポリシーのCondition句で`ec2:Region`が`ap-northeast-1`（東京）の場合に、`Deny`（拒否）が適用されます [cite: 62]。Actionには`ec2:StopInstances`が含まれるため、東京リージョンでの停止操作が拒否されます [cite: 62]。
* **出題傾向:** IAMポリシーのCondition（条件）句の理解を問う問題です。特定の条件下（リージョン、タグ、IPアドレスなど）で権限を制御する方法を理解しておく必要があります。
* **重要キーワード:** IAMポリシー、Condition, Deny, ec2:Region

**(問題14 (EC2) より)** [cite: 121, 273]
* **[ポイント]** 負荷の段階に応じてスケーリングの度合いを変えたい場合（例：CPU50%超で1台追加、70%超でさらに2台追加）、**ステップスケーリングポリシー**を使用します [cite: 121]。複数の閾値と、それに対応するインスタンス増減数を設定できます。
* **出題傾向:** 動的スケーリングポリシーの詳細な使い分け。
* **重要キーワード:** ステップスケーリングポリシー

**(問題17 (EC2) より)** [cite: 51, 276]
* **[ポイント]** Auto Scalingグループは、デフォルトではEC2インスタンス自体のステータスチェックのみを参照します。ELBのヘルスチェック結果も考慮させるには、Auto Scalingグループの設定でELBヘルスチェックタイプを選択する必要があります [cite: 51]。
* **出題傾向:** Auto ScalingとELBのヘルスチェック連携に関する問題です。どちらのヘルスチェックを利用する設定になっているかを確認することが重要です。
* **よく出るサービスの組み合わせ:** EC2 + Auto Scaling + ELB
* **重要キーワード:** Auto Scalingヘルスチェックタイプ (EC2/ELB)

**(問題26 (EC2) より)** [cite: 70, 285]
* **[ポイント]** Auto Scalingグループの**クールダウン期間**は、スケーリングアクション（インスタンス起動または終了）が発生した後、次のスケーリングアクションを開始するまでの待機時間です（デフォルト300秒） [cite: 70]。これにより、短時間での頻繁なスケーリングを防ぎ、システムを安定させます [cite: 70]。
* **出題傾向:** Auto Scalingのクールダウン期間の目的と動作に関する基本的な知識を問う問題です。
* **重要キーワード:** クールダウン期間、スケーリングアクティビティ

**(問題28 (EC2) より)** [cite: 71, 72, 287]
* **[ポイント]** リソースへのアクセス制御には、IAMポリシーが基本です。タグや所属するVPCなどの条件（Condition）を利用して、操作対象のリソースを限定することが効果的です [cite: 71]。単に削除権限をなくすと開発作業に支障が出る可能性があります [cite: 71]。
* **出題傾向:** IAMポリシーによるアクセス制御の実践的な問題です。最小権限の原則に基づき、必要な権限のみを付与し、誤操作を防ぐ方法が問われます。タグベースのアクセス制御（ABAC）は重要な概念です。
* **よく出るサービスの組み合わせ:** EC2 + IAM + タグ or VPC
* **重要キーワード:** IAMポリシー、最小権限の原則、タグベースアクセス制御(ABAC)、Condition

**(問題32 (EC2) より)** [cite: 43, 291]
* **[ポイント]** ALBのリスナールールで、HTTP(ポート80)へのリクエストを受け取った場合に、HTTPS(ポート443)へ**リダイレクト**するアクションを設定します [cite: 43]。
* **出題傾向:** ALBのリスナールールを用いたトラフィック制御（リダイレクト、固定レスポンス、転送など）の設定方法を問う問題です。HTTPSへのリダイレクトは一般的なユースケースです。
* **重要キーワード:** ALBリスナールール、リダイレクト、HTTP, HTTPS

**(問題34 (EC2) より)** [cite: 64, 293]
* **[ポイント]** EC2インスタンス起動時にカスタムスクリプト（シェルスクリプトやcloud-initディレクティブ）を実行させたい場合、**ユーザーデータ**フィールドにスクリプトを記述または指定します [cite: 64]。これにより、初期設定やソフトウェアのインストールなどを自動化できます。
* **出題傾向:** インスタンス初期化の自動化手法。
* **重要キーワード:** ユーザーデータ、cloud-init

**(問題38 (EC2) より)** [cite: 12, 297]
* **[ポイント]** 特定のメトリクス（例：CPU使用率）を目標値（例：30%）に維持するように自動でスケーリングさせたい場合、**ターゲット追跡スケーリングポリシー**が最も設定が簡単で効果的です。不規則な負荷変動にも対応できます [cite: 12]。また、負荷が予測できる時間帯があるなら**スケジュールされたスケーリング**を組み合わせることも有効です [cite: 12]。
* **出題傾向:** シナリオに応じた最適なスケーリングポリシーの組み合わせ。
* **重要キーワード:** ターゲット追跡スケーリングポリシー、スケジュールされたスケーリングポリシー

**(問題40 (EC2) より)** [cite: 70, 299]
* **[ポイント]** Auto Scalingの**クールダウン期間**は、スケーリングアクション後の待機時間であり、システムの安定化を目的とします [cite: 70]。起動したばかりのインスタンスがすぐに処理を開始できるとは限らないため、その時間を考慮します。
* **出題傾向:** クールダウン期間の目的と影響の理解。
* **重要キーワード:** クールダウン期間

**(問題41 (EC2) より)** [cite: 147, 300]
* **[ポイント]** Auto Scalingが期待通りにスケールアップしない場合、Auto Scalingグループの**最大サイズ**設定値や**vCPUベースのオンデマンドインスタンス制限**に達している可能性があります。
* **出題傾向:** Auto Scalingのトラブルシューティング。スケールしない原因の切り分け。
* **重要キーワード:** Auto Scaling最大サイズ、vCPU制限

**(問題42 (EC2) より)** [cite: 65, 148, 301]
* **[ポイント]** リージョン障害に備えるDRでは、別リージョンにシステムを複製（例：**AMIコピー**）し、切り替えには**Route53のフェイルオーバールーティング（アクティブ/パッシブ）**を利用します [cite: 65, 148]。
* **出題傾向:** ディザスタリカバリ（DR）戦略。Route53によるフェイルオーバー。
* **重要キーワード:** ディザスタリカバリ(DR), AMIコピー, Route53フェイルオーバールーティング

**(問題45 (EC2) より)** [cite: 75, 304]
* **[ポイント]** Auto Scalingグループの希望するキャパシティ（**Desired capacity**）を手動で変更することで、現在のインスタンス数を一時的に増減させることができます [cite: 75]。
* **出題傾向:** Auto Scalingグループの基本的な設定項目（最小、最大、希望）の理解。手動でのスケーリング操作。
* **重要キーワード:** Desired capacity（希望するキャパシティ）

**(問題48 (EC2) より)** [cite: 52, 80, 307]
* **[ポイント]** 高いI/O性能（特にランダムI/O）と低レイテンシーが求められるワークロードには**ストレージ最適化インスタンス**(例: I3en)が適しています [cite: 52, 80]。
* **出題傾向:** EC2インスタンスファミリーの選択。ワークロード特性（CPUバウンド、メモリバウンド、I/Oバウンド）に応じた最適化。
* **重要キーワード:** ストレージ最適化インスタンス (Iシリーズ)

**(問題53 (EC2) より)** [cite: 81, 311]
* **[ポイント]** 中長期利用でインスタンスファミリーやOSを変更する可能性がある場合、**コンバーティブルRI**が適しています [cite: 81]。前払いすることで割引率が高まります [cite: 81]。
* **出題傾向:** リザーブドインスタンスのタイプの違い（スタンダード vs コンバーティブル）と支払いオプション。
* **重要キーワード:** リザーブドインスタンス（コンバーティブル）、前払い

### 1.4 学習Tips

* **ハンズオン:** 実際にEC2インスタンスを起動・停止したり、Auto ScalingグループやELBを設定してみるのが一番の近道です。AWS無料利用枠を活用しましょう。
* **構成図:** EC2、ELB、Auto Scaling、セキュリティグループ、サブネット（パブリック/プライベート）、NATゲートウェイなどを含む基本的なWebアプリケーションの構成図を自分で描けるようにしておきましょう。（テキスト表現例↓）
    ```
    [Internet] -> [Route53] -> [ALB (Public Subnet AZ1, AZ2)]
                     |
                     +-> [Auto Scaling Group (EC2 in Private Subnet AZ1)] -> [RDS (Private Subnet AZ1)]
                     |    |                                                    ^
                     |    +-> [Auto Scaling Group (EC2 in Private Subnet AZ2)] -+
                     |         |
                     |         +-> [NAT GW (Public Subnet AZ1)] -> [Internet]
                     +-> [NAT GW (Public Subnet AZ2)] -> [Internet]
    ```
* **用語:** インスタンスファミリー（t系, m系, c系, r系, i系など）、購入オプション（オンデマンド、リザーブド、スポット）、スケーリングポリシーの種類など、基本的な用語の意味と違いを正確に理解しましょう。

### 1.5 理解度チェックテスト

**(選択式)**

1.  Auto Scalingグループがインスタンスを終了させる際、最も新しいインスタンスから優先的に終了させるためのターミネーションポリシーはどれですか？
    a) OldestInstance
    b) Default
    c) NewestInstance
    d) OldestLaunchConfiguration

2.  実行中のEC2インスタンスにネットワークインターフェース（ENI）を追加・削除する操作を何と呼びますか？
    a) コールドアタッチ/デタッチ
    b) ウォームアタッチ/デタッチ
    c) ホットアタッチ/デタッチ
    d) スワップアタッチ/デタッチ

**(短記述式)**

3.  EC2インスタンスの購入オプションである「リザーブドインスタンス」の「スタンダード」と「コンバーティブル」の主な違い（変更可能な属性の観点から）を説明してください。

**(解答例)**

1.  c) NewestInstance
2.  c) ホットアタッチ/デタッチ
3.  スタンダードRIは契約期間中にインスタンスサイズやAZの変更は可能ですが、インスタンスファミリーやOS、テナンシーの変更はできません。一方、コンバーティブルRIは、スタンダードRIよりも割引率は低いですが、インスタンスファミリー、OS、テナンシー、支払いオプションなどを契約期間中に変更できる柔軟性があります。

### 1.6 頻出キーワード

* EC2 (Elastic Compute Cloud)
* インスタンス
* AMI (Amazon Machine Image)
* インスタンスタイプ
* EBS (Elastic Block Store)
* セキュリティグループ
* パブリックIPアドレス
* Elastic IPアドレス (EIP)
* Auto Scaling
* Auto Scalingグループ
* 起動テンプレート
* スケーリングポリシー (ターゲット追跡, ステップ, スケジュール)
* クールダウン期間
* ヘルスチェック (EC2, ELB)
* 購入オプション (オンデマンド, リザーブド(スタンダード/コンバーティブル), スポット)
* マルチAZ
* 可用性 / 耐障害性
* スケーラビリティ
* ユーザーデータ
* ENI (Elastic Network Interface)
* プレイスメントグループ (クラスター)
* ターミネーションポリシー
* キャパシティー予約
* vCPU制限
* Desired capacity

---

## 第2章: ストレージサービス (S3, EBS, EFS, Glacier, Storage Gateway)

### 2.1 分野概要

データはアプリケーションの核心であり、AWSはそのデータを保存・管理するための多様なストレージサービスを提供しています。インターネット経由でアクセス可能な**Amazon S3**、EC2の高速ディスク**Amazon EBS**、複数インスタンスで共有できるファイルシステム**Amazon EFS**、安価なアーカイブストレージ**Amazon S3 Glacier**、オンプレミス連携の**Storage Gateway**などが代表的です。それぞれの特徴とユースケースを理解することが重要です。耐久性、可用性、パフォーマンス、コストのバランスを考慮して設計します。

### 2.2 主要AWSサービス解説

* **Amazon S3 (Simple Storage Service):**
    * 高い耐久性（99.999999999%）と可用性を備えた**オブジェクトストレージ**。
    * データは**バケット**というグローバルに一意な名前のコンテナに**オブジェクト**（ファイル）として保存。オブジェクトは**キー**（ファイル名/パス）で識別。
    * ウェブホスティング、バックアップ、データレイク、ログ集約、メディア配信など幅広い用途。
    * **ストレージクラス**を選択してコストとアクセス性能を最適化。
        * **S3 Standard:** 頻繁アクセスデータ用。低レイテンシ、高スループット。
        * **S3 Intelligent-Tiering:** アクセスパターン不明または変動する場合に自動で階層移動。
        * **S3 Standard-IA (Infrequent Access):** 低頻度アクセスだが即時アクセスが必要なデータ用。Standardより安価だがデータ取得料金が発生。
        * **S3 One Zone-IA:** Standard-IAと同様だが単一AZに保存（低コストだがAZ障害でデータ喪失リスク）。再作成可能なデータ向き。
        * **S3 Glacier Instant Retrieval:** アーカイブだがミリ秒アクセスが必要なデータ用。
        * **S3 Glacier Flexible Retrieval:** アーカイブ用。数分〜数時間でデータ取得（標準、迅速、大容量）。
        * **S3 Glacier Deep Archive:** 最も安価なアーカイブ。12時間以内のデータ取得。長期保存用。
    * **バージョニング:** オブジェクトの変更履歴を保持し、誤削除や上書きから保護。
    * **ライフサイクル管理:** ルールに基づき、オブジェクトを別ストレージクラスへ移動したり、削除したりを自動化。
    * **暗号化:** サーバーサイド暗号化（SSE-S3, SSE-KMS, SSE-C）やクライアントサイド暗号化でデータを保護。デフォルトでSSE-S3が有効。
    * **アクセス制御:** IAMポリシー、バケットポリシー、ACL、署名付きURL/Cookie、アクセスポイント、ブロックパブリックアクセスなどで詳細に制御。
    * **重要キーワード:** オブジェクトストレージ、バケット、オブジェクト、キー、ストレージクラス、耐久性(11 Nine)、可用性、バージョニング、ライフサイクルルール、暗号化(SSE-S3, SSE-KMS, SSE-C)、バケットポリシー、ACL、署名付きURL/Cookie, S3 Select, マルチパートアップロード, クロスリージョンレプリケーション(CRR)

* **Amazon EBS (Elastic Block Store):**
    * EC2インスタンス用の永続的な**ブロックストレージ**ボリューム。
    * OSの起動（ルートボリューム）、データベース、ファイルシステムなど、高速アクセスが必要な用途。
    * **ボリュームタイプ**を選択:
        * **汎用SSD (gp2/gp3):** バランス型。多くのワークロードに適。gp3はIOPS/スループットを独立設定可能。
        * **プロビジョンドIOPS SSD (io1/io2/io2 Block Express):** 高IOPS・低レイテンシが求められるDBなどに最適。io2 Block Expressは最高性能。
        * **スループット最適化HDD (st1):** シーケンシャルアクセス主体の高スループットワークロード（ビッグデータ、ログ処理など）に低コストで対応。
        * **Cold HDD (sc1):** アクセス頻度の低いデータ向け。最も低コストなHDD。
    * **スナップショット:** ボリュームの特定時点のバックアップ。S3に保存される。別AZ/リージョンへのコピー、AMI作成、ボリューム復元に利用。
    * 特定の**アベイラビリティゾーン(AZ)** に紐づく。インスタンスと同じAZにある必要がある。
    * **暗号化:** 作成時にKMSキーを利用して暗号化可能（後からの有効化は不可）。
    * **重要キーワード:** ブロックストレージ、ボリューム、ボリュームタイプ(gp2, gp3, io1, io2, st1, sc1)、IOPS、スループット、スナップショット、暗号化、アベイラビリティゾーン(AZ), DeleteOnTermination

* **Amazon EFS (Elastic File System):**
    * フルマネージド型のNFSファイル共有サービス。複数のEC2インスタンスから同時にアクセス可能。
    * Linuxベースのワークロードに適。コンテンツ管理、ウェブサイトホスティング、開発環境などで利用。
    * ストレージ容量は自動でスケール。ペタバイト級まで拡張可能。
    * **スループットモード**（バースト/プロビジョンド）と**パフォーマンスモード**（汎用/最大I/O）を選択。
    * **ライフサイクル管理**で低頻度アクセスファイルを低コストなEFS IAクラスへ自動移動可能。
    * **リージョンサービス**であり、複数AZに**マウントターゲット**を作成してアクセス。
    * **重要キーワード:** ファイルストレージ, NFS, 共有ストレージ, スケーラブル, スループットモード, パフォーマンスモード, ライフサイクル管理, EFS IA, マウントターゲット

* **Amazon S3 Glacier:** (S3ストレージクラスの一部でもある)
    * 安全で耐久性があり、非常に低コストなアーカイブ用ストレージ。
    * データの取り出し時間に数分〜数時間かかる（クラスによる）。バックアップ、DR、コンプライアンスのための長期データ保存に最適。
    * **ボールト**という単位でデータを管理。**ボールトロック**でコンプライアンス要件（WORMなど）に対応。
    * 取得オプション: Instant Retrieval (ミリ秒), Flexible Retrieval (迅速:1-5分、標準:3-5時間、大容量:5-12時間), Deep Archive (標準:12時間以内、大容量:48時間以内)
    * **重要キーワード:** アーカイブストレージ、ボールト、ボールトロック、WORM、データ取得時間

* **AWS Storage Gateway:**
    * オンプレミス環境とAWSクラウドストレージ（主にS3）をシームレスに接続するハイブリッドクラウドストレージサービス。
    * **ファイルゲートウェイ:** NFS/SMBインターフェースを提供し、S3をファイル共有として利用。
    * **ボリュームゲートウェイ:**
        * **キャッシュ型:** プライマリデータをS3に保存し、頻繁アクセスデータをローカルキャッシュ。オンプレストレージ拡張に有効。iSCSI接続。
        * **保管型(Stored):** プライマリデータをローカルに保存し、S3に非同期バックアップ。iSCSI接続。
    * **テープゲートウェイ:** 仮想テープライブラリ(VTL)として機能し、既存のバックアップソフトと連携してS3/Glacierにテープデータをアーカイブ。iSCSI接続。
    * **重要キーワード:** ハイブリッドクラウド、ファイルゲートウェイ(NFS/SMB)、ボリュームゲートウェイ(キャッシュ型/保管型)、テープゲートウェイ(VTL)、iSCSI

### 2.3 問題演習とポイント解説

**(問題4より)** [cite: 2, 201]
* **[ポイント]** オンプレミスの大量データを**S3をプライマリストレージ**として拡張しつつ、ローカルにもキャッシュを置いて高速アクセスを実現したい場合、**Storage Gatewayのキャッシュ型ボリューム**が最適です [cite: 2]。iSCSIデバイスとしてオンプレミスサーバーに接続します。保管型ボリュームはオンプレミスがプライマリになります [cite: 2]。
* **出題傾向:** Storage Gatewayの各タイプ（ファイル、ボリューム（キャッシュ/保管）、テープ）の特徴とユースケースの選択。ハイブリッド構成のシナリオで問われます。
* **重要キーワード:** Storage Gateway、キャッシュ型ボリューム、保管型ボリューム、iSCSI、ハイブリッドクラウド

**(問題10より)** [cite: 7, 209]
* **[ポイント]** Amazon S3バケットに保存されたオブジェクトに対して、特定のユーザーに**一時的なアクセス権**（ダウンロードやアップロード）を付与したい場合、**事前署名付きURL**を生成して共有します [cite: 7]。URLには有効期限や許可されるアクションが含まれます。
* **出題傾向:** S3オブジェクトへのセキュアな一時アクセス許可方法。署名付きURLのユースケース。
* **重要キーワード:** 事前署名付きURL、一時アクセス許可

**(問題19より)** [cite: 7, 218]
* **[ポイント]** オンプレミスのアプリケーションサーバーにiSCSIデバイスとしてAWSストレージを接続し、AWS側をプライマリストレージとしたい場合、**Storage Gatewayのキャッシュ型ボリューム**を使用します [cite: 7]。
* **出題傾向:** 問題4と同様、Storage Gatewayのタイプ選択。特にボリュームゲートウェイのキャッシュ型と保管型の違いを理解することが重要です。
* **重要キーワード:** Storage Gateway、キャッシュ型ボリューム、iSCSI

**(問題22より)** [cite: 8, 221]
* **[ポイント]** S3へのPUT/POST/DELETEリクエストレート（秒間3500リクエスト以上）やGET/HEADリクエストレート（秒間5500リクエスト以上）のパフォーマンスを最大限に引き出すには、オブジェクトキー名の**プレフィックス**を適切に設計してリクエストを分散させることが有効です [cite: 8]。日付ベース（例：YYYY/MM/DD/）のようなシーケンシャルなプレフィックスでもS3は自動的にパフォーマンスをスケールさせるため、ランダム化は必須ではありません [cite: 8]。
* **出題傾向:** S3のパフォーマンス最適化。プレフィックス設計の考え方。
* **重要キーワード:** S3パフォーマンス、プレフィックス、リクエストレート

**(問題23より)** [cite: 8, 222]
* **[ポイント]** S3オブジェクトのアクセス頻度に応じてコストを最適化するには**ライフサイクルルール**を設定します [cite: 8]。最初は頻繁アクセス（**S3 Standard**）→アクセス頻度が低下したら低コストなクラスへ移動（例：Standard-IA）→長期間アクセスがなくなったらアーカイブ（**Glacier Deep Archive**が最も安価）→不要になったら削除、という流れが一般的です [cite: 8]。
* **出題傾向:** S3ストレージクラスの特徴とライフサイクルルールの設定によるコスト最適化。シナリオに応じたクラス遷移の選択。
* **重要キーワード:** S3ライフサイクルルール、ストレージクラス移行 (Standard -> IA -> Glacier Deep Archive -> 削除)

**(問題33より)** [cite: 13, 222]
* **[ポイント]** S3バケットポリシーは、特定の送信元IPアドレス範囲からのアクセスを許可/拒否できます。`Condition`句の`IpAddress`または`NotIpAddress`条件キーと`aws:SourceIp`を使用します [cite: 13]。`NotIpAddress`と`Deny`を組み合わせると、指定したIPアドレス範囲**以外**からのアクセスを拒否する設定が可能です [cite: 13]。
* **出題傾向:** S3バケットポリシーの基本的な構文と、IPアドレス制限の設定方法。
* **重要キーワード:** S3バケットポリシー、Condition, IpAddress, NotIpAddress, aws:SourceIp

**(問題36より)** [cite: 15, 225]
* **[ポイント]** Amazon S3は、オブジェクトの書き込み（PUT、DELETE）後すぐにその変更結果を読み取れる**強い書き込み後の読み取り整合性（Strong Read-After-Write Consistency）** を提供します [cite: 15]。
* **出題傾向:** S3のデータ整合性モデル。現在は強い整合性が保証される点。
* **重要キーワード:** 強い整合性

**(問題39より)** [cite: 16, 228]
* **[ポイント]** 誤操作によるオブジェクトの削除や上書きを防ぐには、S3の**バージョニング**機能が有効です [cite: 16]。バージョニングを有効にすると、オブジェクトの全てのバージョンが保持され、必要に応じて過去のバージョンに復元できます。
* **出題傾向:** S3のデータ保護機能。バージョニングの目的と効果。
* **重要キーワード:** S3バージョニング、データ保護

**(問題46より)** [cite: 24, 73, 235]
* **[ポイント]** S3オブジェクトロックは、オブジェクトをWORM (Write Once Read Many) モデルで保護し、指定期間または無期限に上書きや削除ができないようにする機能です [cite: 24]。モードには、**コンプライアンスモード**（誰も変更/削除不可）と**ガバナンスモード**（特定の権限を持つユーザーは変更/削除可能）があります [cite: 24]。バケット作成時に有効化する必要があります [cite: 24]。
* **出題傾向:** S3オブジェクトロックの機能、モードの違い。コンプライアンス要件対応。
* **重要キーワード:** S3オブジェクトロック、WORM、コンプライアンスモード、ガバナンスモード

**(問題48より)** [cite: 20, 21, 237]
* **[ポイント]** 長期間アクセスされないが、必要な際には比較的早く（例：24時間以内）アクセスしたいデータには、**S3 Glacier Deep Archive**が最もコスト効率が良い選択肢です [cite: 21]。標準取り出しで12時間以内にアクセス可能です [cite: 21]。
* **出題傾向:** S3/Glacierストレージクラスの選択。アクセス頻度、取得時間、コストの要件に基づいた判断。
* **重要キーワード:** S3 Glacier Deep Archive、アーカイブ、データ取得時間、コスト効率

**(問題49より)** [cite: 52, 238]
* **[ポイント]** 複数のAWSアカウント間でS3バケットへのアクセスを許可し、かつデータ転送料金などを**リクエスト元（アクセスする側）に負担させたい**場合、**リクエスタ支払い**機能を有効にします [cite: 52]。バケット所有者はストレージ料金のみを支払い、リクエスタがダウンロードやリクエストのコストを負担します [cite: 52]。
* **出題傾向:** S3のコスト管理、特にクロスアカウントアクセス時のコスト負担に関する設定。
* **重要キーワード:** S3リクエスタ支払い、クロスアカウントアクセス

**(問題50より)** [cite: 52, 239]
* **[ポイント]** S3バケットのアクセスパターンを分析し、どのオブジェクトをどのストレージクラスに移行すべきか（ライフサイクルルールの最適化）を判断するには、**S3ストレージクラス分析**機能を使用します [cite: 52]。オブジェクトのアクセス頻度を監視し、レポートを提供します。
* **出題傾向:** S3の利用状況分析とコスト最適化のためのツール。
* **重要キーワード:** S3ストレージクラス分析

**(問題51より)** [cite: 52, 240]
* **[ポイント]** 大きなファイル（> 100MB推奨、> 5GB必須）をS3にアップロードする際は、**マルチパートアップロード**を利用すると効率的です [cite: 52]。ファイルを複数のパートに分割し、並行してアップロードできるため、スループットが向上し、ネットワークエラー時の再開も容易になります。
* **出題傾向:** S3への大容量ファイルアップロードの効率化・信頼性向上策。
* **重要キーワード:** マルチパートアップロード

**(問題59より)** [cite: 85, 248]
* **[ポイント]** S3バケットで**静的ウェブサイトホスティング**を有効にし、インターネットからアクセス可能にするには、パブリックアクセスブロックを無効化し、`s3:GetObject`を許可する**バケットポリシー**を設定する必要があります [cite: 85]。
* **出題傾向:** S3静的ウェブサイトホスティングの設定手順とトラブルシューティング。
* **重要キーワード:** S3静的ウェブサイトホスティング、バケットポリシー、s3:GetObject

**(問題62より)** [cite: 57, 251]
* **[ポイント]** S3イベント通知は、S3バケットでのオブジェクト作成（PUT）などのイベントをトリガーとして、**Lambda関数**、**SQSキュー**、**SNSトピック**、**EventBridge**に通知を送信できる機能です [cite: 57]。
* **出題傾向:** S3イベント通知のトリガーイベント、通知先サービス、ユースケース。
* **重要キーワード:** S3イベント通知, Lambda関数トリガー

**(問題7 (S3) より)** [cite: 31, 256]
* **[ポイント]** EC2インスタンスからインターネットを経由せずにS3バケットにアクセスするには、VPC内に**ゲートウェイVPCエンドポイント**を作成し、ルートテーブルでS3へのトラフィックをそのエンドポイントに向けるように設定します [cite: 31]。
* **出題傾向:** VPCエンドポイント（特にゲートウェイエンドポイント）の目的と設定方法。
* **重要キーワード:** VPCゲートウェイエンドポイント、プライベート接続

**(問題9 (S3) より)** [cite: 33, 258]
* **[ポイント]** S3のサーバーサイド暗号化で**SSE-S3**（S3管理キーによる暗号化）を使用した場合、オブジェクトのダウンロード時にユーザー側で特別な復号処理は不要です。S3が**自動的に復号**してくれます [cite: 33]。
* **出題傾向:** S3の暗号化方式（SSE-S3, SSE-KMS, SSE-C）の違い、特にSSE-S3の手軽さ。
* **重要キーワード:** SSE-S3、サーバーサイド暗号化、自動復号

**(問題10 (EBS) より)** [cite: 48, 259]
* **[ポイント]** EBSボリュームの定期的なバックアップ（スナップショット取得）を自動化するには、**Amazon Data Lifecycle Manager (DLM)** を使用します [cite: 48]。
* **出題傾向:** EBSスナップショットの管理自動化。DLMの役割と機能。
* **重要キーワード:** Amazon Data Lifecycle Manager (DLM)、EBSスナップショット

**(問題11 (S3) より)** [cite: 49, 260]
* **[ポイント]** S3バケットでデフォルト暗号化を有効にすると、そのバケットに書き込まれる**サーバーアクセスログ**なども**自動的に暗号化**されます [cite: 49]。
* **出題傾向:** S3デフォルト暗号化の適用範囲。
* **重要キーワード:** S3デフォルト暗号化、サーバーアクセスログ

**(問題12 (EBS) より)** [cite: 64, 271]
* **[ポイント]** EC2インスタンス終了時にEBSボリュームも**同時に削除するかどうか**は、ボリュームの**`DeleteOnTermination`** 属性で決まります [cite: 64]。デフォルトではルートボリュームは削除され、追加ボリュームは削除されません。
* **出題傾向:** EC2インスタンス終了時のEBSボリュームの挙動。
* **重要キーワード:** DeleteOnTermination属性

**(問題13 (S3) より)** [cite: 64, 272]
* **[ポイント]** アクセス頻度が低下するデータは**ライフサイクルルール**で低コストなストレージクラス（例：**Glacier Deep Archive**）に移行し、最終的に削除することでコストを最適化します [cite: 64]。
* **出題傾向:** ライフサイクルルールによるコスト最適化。
* **重要キーワード:** S3ライフサイクルルール, S3 Glacier Deep Archive

**(問題18 (S3) より)** [cite: 67, 277]
* **[ポイント]** S3バケットポリシーで特定のHTTPリファラーからのアクセスのみを許可するには、`Condition`句で`aws:Referer`キーを使用します [cite: 67]。
* **出題傾向:** バケットポリシーでのアクセス制御（リファラーベース）。
* **重要キーワード:** S3バケットポリシー、Condition, aws:Referer

**(問題21 (S3) より)** [cite: 38, 280]
* **[ポイント]** S3の**クロスリージョンレプリケーション (CRR)** は、ソースバケットへのオブジェクト操作をトリガーに**自動的かつ非同期**にターゲットバケットへコピーする機能です [cite: 38]。
* **出題傾向:** CRRの基本的な動作（自動、非同期）。
* **重要キーワード:** クロスリージョンレプリケーション(CRR)

**(問題23 (S3) より)** [cite: 39, 282]
* **[ポイント]** バージョニングで保持される古いバージョンのオブジェクトは、**ライフサイクルルール**で低コストなクラスへ移行し、最終的に**失効（削除）**させることでコスト管理します [cite: 39]。
* **出題傾向:** バージョニングとライフサイクルルールの組み合わせ。
* **重要キーワード:** S3バージョニング、非現行バージョン、ライフサイクルルール、失効(削除)

**(問題25 (S3) より)** [cite: 70, 284]
* **[ポイント]** S3オブジェクト内の**必要なデータサブセットのみ**をSQLライクな式でフィルタリング・取得するには、**S3 Select**を使用します [cite: 70]。
* **出題傾向:** S3からのデータ取得効率化。
* **重要キーワード:** S3 Select

**(問題29 (S3) より)** [cite: 79, 288]
* **[ポイント]** VPC内のEC2からインターネットを経由せずにS3にアクセスするには、**VPCゲートウェイエンドポイント**と、EC2に付与した**IAMロール**による権限が必要です [cite: 79]。
* **出題傾向:** VPCエンドポイントとIAMロールによるセキュアなアクセス。
* **重要キーワード:** VPCゲートウェイエンドポイント、IAMロール

**(問題31 (S3) より)** [cite: 73, 290]
* **[ポイント]** S3オブジェクトロックの**ガバナンスモード**は、通常の削除・上書きを禁止しつつ、特別な権限があればバイパス可能です [cite: 73]。**コンプライアンスモード**は誰もバイパスできません [cite: 73]。
* **出題傾向:** S3オブジェクトロックのモードの違い。
* **重要キーワード:** S3オブジェクトロック、ガバナンスモード、コンプライアンスモード

**(問題37 (S3) より)** [cite: 73, 296]
* **[ポイント]** 外部監査者にS3バケットの設定確認を許可しつつデータ自体へのアクセスを防ぐには、**SSE-KMS**で暗号化し、監査者のIAMロールにKMSキーの復号権限を与えないようにします [cite: 73]。
* **出題傾向:** SSE-KMSとキーポリシーによる詳細なアクセス制御。
* **重要キーワード:** SSE-KMS, KMSキーポリシー

**(問題41 (EBS) より)** [cite: 48, 49, 300]
* **[ポイント]** EBSのIOPS性能を向上させるには、高性能ボリュームタイプへの変更、ボリュームサイズ増加、**RAID 0**構成、EBS最適化インスタンスや高性能インスタンスへの変更が有効です [cite: 48, 49]。
* **出題傾向:** EBSのパフォーマンスチューニング。
* **重要キーワード:** EBSパフォーマンス、IOPS、RAID 0

**(問題42 (EBS) より)** [cite: 76, 301]
* **[ポイント]** EBSスナップショット作成中も、ボリュームは**通常通り利用可能**です [cite: 76]。
* **出題傾向:** EBSスナップショット中のボリューム挙動。
* **重要キーワード:** EBSスナップショット、非同期処理

**(問題44 (EBS) より)** [cite: 77, 303]
* **[ポイント]** 実行中のEC2インスタンスからルートボリュームをデタッチするには、**インスタンスを停止**する必要があります [cite: 77]。
* **出題傾向:** EBSボリュームデタッチ手順。
* **重要キーワード:** EBSボリュームデタッチ、インスタンス停止

**(問題50 (EBS) より)** [cite: 49, 309]
* **[ポイント]** EBSボリュームレベルでの高可用性（低RTO）には**RAID 1**（ミラーリング）が有効です [cite: 49]。
* **出題傾向:** EBSを用いた高可用性構成。
* **重要キーワード:** RAID 1、ミラーリング

**(問題55 (EBS) より)** [cite: 76, 314]
* **[ポイント]** EBSスナップショットを**別リージョンにコピー**することで、リージョン障害に対するDR対策が可能です [cite: 76]。
* **出題傾向:** EBSスナップショットのDR活用。
* **重要キーワード:** EBSスナップショットコピー、ディザスタリカバリ(DR)

**(問題24 (EBS) より)** [cite: 78, 283]
* **[ポイント]** EBSボリュームは**作成時にのみ**暗号化を有効にできます [cite: 78]。後からはできません。
* **出題傾向:** EBS暗号化の設定タイミング。
* **重要キーワード:** EBS暗号化、作成時設定

**(問題30 (EBS) より)** [cite: 105, 289]
* **[ポイント]** 100,000 IOPS以上の性能が必要な場合、EBSボリュームは**io2 Block Express**が選択肢となります [cite: 105]。アクセス頻度が予測不能なデータ保存には**S3 Intelligent-Tiering**がコスト効率が良いです [cite: 105]。
* **出題傾向:** 高性能EBSとインテリジェントなS3クラスの選択。
* **重要キーワード:** EBS io2 Block Express, S3 Intelligent-Tiering

**(問題31 (EFS) より)** [cite: 104, 290]
* **[ポイント]** EBSボリュームは**同じAZ内のEC2インスタンスにのみ**アタッチ可能です [cite: 104]。
* **出題傾向:** EBSのアタッチ制約。
* **重要キーワード:** EBSアタッチ制約、アベイラビリティゾーン(AZ)

**(問題5 (EFS) より)** [cite: 30, 254]
* **[ポイント]** **Lustre**クライアントからの接続が必要な共有ファイルシステムは**Amazon FSx for Lustre**です [cite: 30]。
* **出題傾向:** FSxファミリーとEFSの使い分け。
* **重要キーワード:** Amazon FSx for Lustre, Lustre

**(問題7 (EFS) より)** [cite: 59, 256]
* **[ポイント]** EFSのコスト削減には**ライフサイクル管理**を有効にし、低頻度アクセスファイルを**EFS Standard-IA** / **Archive**へ移動させます [cite: 59]。
* **出題傾向:** EFSのコスト最適化。
* **重要キーワード:** EFSライフサイクル管理, EFS Standard-IA, EFS Archive

**(問題8 (EFS) より)** [cite: 59, 257]
* **[ポイント]** EFSで**最小レイテンシー**を求めるならパフォーマンスモードは**汎用モード**を選択します [cite: 59]。
* **出題傾向:** EFSのパフォーマンスモード選択。
* **重要キーワード:** EFSパフォーマンスモード、汎用モード

**(問題16 (FSx) より)** [cite: 99, 275]
* **[ポイント]** Windows共有ファイルストレージが必要でAD連携したい場合は**Amazon FSx for Windows File Server**です [cite: 99]。
* **出題傾向:** FSx for Windowsのユースケース。
* **重要キーワード:** Amazon FSx for Windows File Server, SMB, Active Directory

**(問題29 (FSx) より)** [cite: 176, 288]
* **[ポイント]** EC2上のWindows SQL Serverの共有ストレージとして**Amazon FSx for Windows File Server**を利用できます [cite: 176]。
* **出題傾向:** FSx for Windowsのユースケース。
* **重要キーワード:** Amazon FSx for Windows File Server, SMBファイル共有, SQL Server

**(問題36 (Glacier) より)** [cite: 78, 295]
* **[ポイント]** Glacierボールトのポリシーを変更不可にするには**Vault Lock**を使用します [cite: 78]。
* **出題傾向:** Glacierのコンプライアンス機能。
* **重要キーワード:** S3 Glacier, ボールト, Vault Lock

**(問題50 (Glacier) より)** [cite: 68, 233]
* **[ポイント]** 数分〜10時間以内の取得が必要なアーカイブデータには**Glacier Flexible Retrieval（標準取り出し）** が適しています [cite: 68]。
* **出題傾向:** Glacierの取得オプションと取得時間。
* **重要キーワード:** S3 Glacier Flexible Retrieval, データ取得オプション（標準）

**(問題22 (Storage Gateway) より)** [cite: 142, 281]
* **[ポイント]** オンプレミスからS3にデータをバックアップし、低遅延アクセスが必要な場合、**ファイルゲートウェイ(NFS/SMB)** または**ボリュームゲートウェイ（キャッシュ型, iSCSI）** を利用します [cite: 142]。
* **出題傾向:** Storage Gatewayのタイプ選択。
* **重要キーワード:** Storage Gateway, ファイルゲートウェイ, ボリュームゲートウェイ(キャッシュ型)

**(問題29 (Storage Gateway) より)** [cite: 41, 288]
* **[ポイント]** S3をプライマリ、オンプレをキャッシュとしてストレージ拡張するには**Storage Gatewayキャッシュ型ボリューム**です [cite: 41]。
* **出題傾向:** キャッシュ型ボリュームのユースケース。
* **重要キーワード:** Storage Gateway、キャッシュ型ボリューム

**(問題32 (Storage Gateway) より)** [cite: 142, 291]
* **[ポイント]** ユーザーが**SFTP/FTPS/FTP**でS3にファイルをアップロードする仕組みは**AWS Transfer Family**で構築します [cite: 142]。
* **出題傾向:** S3へのファイル転送プロトコル対応。
* **重要キーワード:** AWS Transfer Family, SFTP/FTPS/FTP

### 2.4 学習Tips

* **ストレージクラス比較表の作成:** S3とGlacierの各クラスについて、ユースケース、アクセス頻度、取得時間、耐久性、可用性、最小課金期間、コスト感などを一覧表にまとめると違いが明確になります。
* **EBSボリュームタイプの選択基準:** ワークロードの特性（IOPS重視かスループット重視か、アクセスパターンはランダムかシーケンシャルか、コスト要件）に応じて、どのEBSボリュームタイプ（gp3, io2, st1, sc1など）が最適かを判断できるようにしましょう。
* **ハイブリッド構成の理解:** Storage Gatewayはオンプレミスとの連携がポイントです。ファイル/ボリューム/テープの各種ゲートウェイがどのような接続方式（NFS/SMB/iSCSI）で、どのようなデータ配置（キャッシュ型/保管型）を提供するかを図などで整理すると分かりやすいです。

### 2.5 理解度チェックテスト

**(選択式)**

1.  非常に高い耐久性が求められ、世界中からアクセスされる可能性のある、画像や動画などの大容量ファイルを保存するのに最も適したAWSサービスはどれですか？
    a) Amazon EBS
    b) Amazon EFS
    c) Amazon S3
    d) Amazon EC2 インスタンスストア

2.  EC2インスタンスのルートボリューム（OSがインストールされているボリューム）のバックアップを取得する最も一般的な方法は何ですか？
    a) EBSボリュームのミラーリング(RAID 1)を行う
    b) EBSボリュームのスナップショットを作成する
    c) EBSボリュームを別のAZにコピーする
    d) S3にボリュームデータを手動でコピーする

**(短記述式)**

3.  Amazon S3の「バージョニング」機能とは何か、その主な利点を説明してください。

**(解答例)**

1.  c) Amazon S3
2.  b) EBSボリュームのスナップショットを作成する
3.  バージョニングとは、S3バケット内のオブジェクトに対して、上書きや削除が行われた場合でも、そのオブジェクトの全てのバージョン（変更履歴）を保持する機能です。主な利点は、誤ってオブジェクトを削除したり上書きしたりした場合でも、過去のバージョンに簡単に復元できるため、データ保護と復旧が容易になる点です。

### 2.6 頻出キーワード

* Amazon S3 (Simple Storage Service)
* オブジェクトストレージ / バケット / オブジェクト / キー
* ストレージクラス (Standard, IA, One Zone-IA, Intelligent-Tiering, Glacier Instant/Flexible/Deep Archive)
* 耐久性 / 可用性
* バージョニング
* ライフサイクルルール
* 暗号化 (SSE-S3, SSE-KMS, SSE-C)
* バケットポリシー / ACL
* 事前署名付きURL
* マルチパートアップロード
* クロスリージョンレプリケーション (CRR)
* S3 Select
* Amazon EBS (Elastic Block Store)
* ブロックストレージ / ボリューム
* ボリュームタイプ (gp2/gp3, io1/io2, st1, sc1)
* IOPS / スループット
* スナップショット
* DeleteOnTermination
* Amazon EFS (Elastic File System)
* ファイルストレージ / NFS / 共有ストレージ
* ライフサイクル管理 / EFS IA / Archive
* Amazon S3 Glacier
* アーカイブストレージ / ボールト / ボールトロック
* AWS Storage Gateway
* ハイブリッドクラウド / ファイルゲートウェイ / ボリュームゲートウェイ / テープゲートウェイ
* キャッシュ型 / 保管型
* iSCSI / NFS / SMB
* Amazon FSx (for Windows, for Lustre)
* AWS DataSync
* AWS Transfer Family
* 強い整合性
* Amazon Data Lifecycle Manager (DLM)
* RAID 0 / RAID 1

